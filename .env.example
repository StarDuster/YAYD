# ASR / Whisper (faster-whisper)
# Provide local paths to pre-downloaded models to avoid auto-downloads.
WHISPER_MODEL_PATH=models/ASR/whisper
# Optional: a separate CPU-optimized CTranslate2 model (e.g., int8 quantized)
WHISPER_CPU_MODEL_PATH=
WHISPER_MODEL_NAME=large-v3
# auto / cuda / cpu
WHISPER_DEVICE=auto
# Optional: enable diarization (needs local HF cache + HF_TOKEN)
WHISPER_DIARIZATION_MODEL_DIR=models/ASR/whisper/diarization

# TTS
QWEN_TTS_MODEL_PATH=models/TTS/Qwen3-TTS-12Hz-1.7B-Base
QWEN_TTS_PYTHON=.venv/bin/python
BYTEDANCE_APPID=
BYTEDANCE_ACCESS_TOKEN=
TTS_METHOD=bytedance

# Speaker reference (for voice cloning / speaker conditioning)
# Recommended: 10-20s, default is 15s (clamped to [3, 60]).
TTS_SPEAKER_REF_SECONDS=15
# Save multiple reference clips under SPEAKER/ and auto-select the best one.
# Set to 0/false to disable and keep the legacy "take first N seconds" fallback.
TTS_SPEAKER_REF_MULTI=1
# How many top candidates to save as `SPEAKER/<speaker>.ref_XX_YYYYYs.wav`.
TTS_SPEAKER_REF_CANDIDATES=5
# Candidate scan stride (seconds). Larger = faster, smaller = more thorough.
TTS_SPEAKER_REF_SCAN_STRIDE_SECONDS=15
# Silence ratio is computed on peak-normalized audio; lower threshold = less "silence".
TTS_SPEAKER_REF_SILENCE_THRESHOLD=0.02
# Reject/penalize candidates with too much silence (peak-normalized).
TTS_SPEAKER_REF_MAX_SILENCE_RATIO=0.75
# Transient threshold for "pop/click" detection on peak-normalized audio.
TTS_SPEAKER_REF_TRANSIENT_THRESHOLD=0.4

# Gemini TTS (optional)
GEMINI_API_KEY=
GEMINI_TTS_MODEL=gemini-2.5-flash-preview-tts
GEMINI_TTS_VOICE=Kore

# Volcano/ByteDance voice cloning (optional, comma-separated speaker IDs)
VOLCANO_CLONE_SPEAKER_IDS=

# HuggingFace / OpenAI
HF_TOKEN=
OPENAI_API_KEY=
OPENAI_API_BASE=
MODEL_NAME=gpt-3.5-turbo

# Translation (optional)
# history: current chain-with-history behavior (serial)
# guide_parallel: generate a translation guide first, then translate chunks concurrently
TRANSLATION_STRATEGY=guide_parallel
TRANSLATION_MAX_CONCURRENCY=4
TRANSLATION_CHUNK_SIZE=8
TRANSLATION_GUIDE_MAX_CHARS=2500

# yt-dlp (optional, for age-restricted/private videos)
# Option A (recommended): export cookies.txt (Netscape format) and point to it
YTDLP_COOKIE_PATH=
# Option B: read cookies directly from browser profile (ignored if YTDLP_COOKIE_PATH is set)
YTDLP_COOKIES_FROM_BROWSER=
YTDLP_COOKIES_FROM_BROWSER_PROFILE=

# Demucs
DEMUCS_MODEL_DIR=models/demucs
DEMUCS_MODEL_NAME=htdemucs_ft

# Bilibili upload (optional)
# 需要先安装 Node 依赖：
#   cd scripts/biliapi && npm install
# 然后扫码登录生成 cookies.json：
#   node scripts/biliapi/login.mjs
BILI_COOKIE_PATH=cookies.json
# BILI_PROXY=socks5h://127.0.0.1:1080
# BILI_UPLOAD_CDN=bda2
# Submit API rotation order (web/app/b-cut-android). Empty means default.
# BILI_SUBMIT_APIS=web,app,b-cut-android
# Use bcut preupload to avoid 406 risk-control (default: true in node script)
# BILI_BCUT_PREUPLOAD=1
# 投稿分区（默认 201）
# BILI_TID=201
# Interval between uploads in seconds (to avoid rate limiting)
BILI_UPLOAD_INTERVAL=60
